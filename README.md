## Описание выполненной работы

В рамках проекта была разработана система онлайн-записи для салона красоты с функциями регистрации, авторизации и управления записями. Все комментарии в коде оформлены в едином стиле с использованием формата `/**` для улучшения читаемости и обучения. Все встроенные стили перенесены в CSS файлы для соблюдения принципа разделения содержания и представления. Основные изменения включают:

### 1. Создание системы авторизации и регистрации пользователей

- **Создан файл `backend/lk.php`**: Страница авторизации и регистрации пользователей с функциями:
    - Регистрация новых пользователей (логин и пароль)
    - Авторизация существующих пользователей
    - Выход из системы
    - Переключение между формами входа и регистрации через JavaScript

- **Создан файл `backend/create_users_table.php`**: Скрипт для инициализации базы данных:
    - Создание таблицы `users` для хранения данных пользователей
    - Автоматическое создание администратора с логином и паролем "admin"
    - Создание таблицы `applications` для хранения заявок с привязкой к пользователям

### 2. Разработка системы управления записями

- **Создан файл `backend/admin.php`**: Административная панель с функциями:
    - Просмотр всех заявок, отсортированных по дате (новые сверху)
    - Отображение статистики по пользователям и заявкам
    - Статистика по популярности услуг
    - Доступ только для администратора

- **Создан файл `backend/my_appointments.php`**: Страница для просмотра личных записей:
    - Для обычных пользователей - отображение только их записей
    - Для администратора - отображение всех записей с указанием пользователя
    - Защита от несанкционированного доступа

- **Создан файл `backend/process_form.php`**: Скрипт для обработки данных формы записи:
    - Создание и подключение к SQLite базе данных
    - Получение и валидация данных из формы
    - Сохранение данных в базу данных с привязкой к пользователю (если авторизован)
    - Отображение страницы с подтверждением успешной записи

### 3. Модификация HTML-формы записи

- **Обновлен файл `backend/form.index.php`**:
    - Добавлен выбор услуг с группировкой по категориям (визажист, парикмахер, мастер ногтевого сервиса)
    - Добавлена информация о статусе авторизации пользователя
    - Добавлены ссылки на личный кабинет и страницу записей
    - Исправлены атрибуты формы и имена полей для корректной обработки данных

### 4. Обновление CSS-стилей и интерфейса

- **Добавлены стили для всех новых страниц**:
    - Стили для форм авторизации и регистрации
    - Стили для таблиц с записями
    - Стили для административной панели и статистики
    - Стили для навигационных элементов

### 5. Интеграция системы авторизации с основным сайтом

- **Обновлены ссылки на всех страницах**:
    - Добавлены ссылки на страницу авторизации
    - Добавлены ссылки на личный кабинет пользователя
    - Обновлены ссылки на форму записи

## Инструкция по установке PHP

### Установка PHP на Windows

1. **Скачивание PHP**
    - Перейдите на официальный сайт PHP: [https://windows.php.net/download/](https://windows.php.net/download/)
    - Скачайте последнюю стабильную версию PHP для Windows (рекомендуется Thread Safe версия)
    - Выберите архив ZIP с нужной версией (x64 или x86, в зависимости от вашей системы)

2. **Установка PHP**
    - Создайте папку для PHP, например, `C:\php`
    - Распакуйте скачанный архив в эту папку
    - Скопируйте файл `php.ini-development` и переименуйте копию в `php.ini`
    - Откройте файл `php.ini` в текстовом редакторе и внесите следующие изменения:
        - Раскомментируйте строку с `extension_dir = "ext"` (уберите `;` в начале строки)
        - Раскомментируйте нужные расширения:
            - `;extension=mysqli` → `extension=mysqli`
            - `;extension=pdo_sqlite` → `extension=pdo_sqlite`
            - `;extension=sqlite3` → `extension=sqlite3`

3. **Добавление PHP в переменную PATH**
    - Нажмите правой кнопкой мыши на "Этот компьютер" и выберите "Свойства"
    - Выберите "Дополнительные параметры системы"
    - Нажмите на кнопку "Переменные среды"
    - В разделе "Системные переменные" найдите переменную "Path" и нажмите "Изменить"
    - Нажмите "Создать" и добавьте путь к папке PHP (например, `C:\php`)
    - Нажмите "ОК" во всех окнах для сохранения изменений

4. **Проверка установки**
    - Откройте командную строку (cmd)
    - Введите команду `php -v`
    - Должна отобразиться информация о версии PHP

5. **Настройка веб-сервера (опционально)**
    - Для разработки можно использовать встроенный веб-сервер PHP:
        - Перейдите в папку с вашим проектом через командную строку
        - Выполните команду `php -S localhost:8000`
        - Откройте браузер и перейдите по адресу `http://localhost:8000`

### Установка PHP на macOS

1. **Установка через Homebrew (рекомендуется)**
    - Установите Homebrew, если он еще не установлен:
      ```
      /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
      ```
    - Установите PHP:
      ```
      brew install php
      ```

2. **Проверка установки**
    - Откройте терминал
    - Введите команду `php -v`
    - Должна отобразиться информация о версии PHP

3. **Настройка PHP**
    - Файл конфигурации PHP находится в `/usr/local/etc/php/[версия]/php.ini`
    - Отредактируйте его при необходимости:
      ```
      sudo nano /usr/local/etc/php/[версия]/php.ini
      ```
    - Убедитесь, что нужные расширения включены (например, pdo_sqlite)

4. **Запуск встроенного веб-сервера**
    - Перейдите в папку с вашим проектом через терминал
    - Выполните команду `php -S localhost:8000`
    - Откройте браузер и перейдите по адресу `http://localhost:8000`

### Установка PHP на Linux (Ubuntu/Debian)

1. **Установка PHP и необходимых расширений**
   ```bash
   sudo apt update
   sudo apt install php php-cli php-fpm php-json php-common php-sqlite3 php-zip php-gd php-mbstring php-curl php-xml php-pear php-bcmath
   ```

2. **Проверка установки**
   ```bash
   php -v
   ```

3. **Настройка PHP**
    - Файл конфигурации PHP находится в `/etc/php/[версия]/cli/php.ini` (для CLI) и `/etc/php/[версия]/fpm/php.ini` (для FPM)
    - Отредактируйте его при необходимости:
      ```bash
      sudo nano /etc/php/[версия]/cli/php.ini
      ```

4. **Запуск встроенного веб-сервера**
    - Перейдите в папку с вашим проектом через терминал
    - Выполните команду `php -S localhost:8000`
    - Откройте браузер и перейдите по адресу `http://localhost:8000`

### Установка PHP на Linux (CentOS/RHEL/Fedora)

1. **Установка PHP и необходимых расширений**
   ```bash
   # CentOS/RHEL
   sudo yum install epel-release
   sudo yum install php php-cli php-common php-pdo php-sqlite3
   
   # Fedora
   sudo dnf install php php-cli php-common php-pdo php-sqlite3
   ```

2. **Проверка установки**
   ```bash
   php -v
   ```

3. **Настройка PHP**
    - Файл конфигурации PHP находится в `/etc/php.ini`
    - Отредактируйте его при необходимости:
      ```bash
      sudo nano /etc/php.ini
      ```

4. **Запуск встроенного веб-сервера**
    - Перейдите в папку с вашим проектом через терминал
    - Выполните команду `php -S localhost:8000`
    - Откройте браузер и перейдите по адресу `http://localhost:8000`

## Запуск проекта

1. Убедитесь, что PHP установлен и настроен
2. Перейдите в корневую папку проекта через командную строку/терминал
3. Создайте таблицы в базе данных и администратора:
   ```
   php backend/create_users_table.php
   ```
   Это создаст пользователя-администратора с логином `admin` и паролем `admin`
4. Запустите встроенный веб-сервер PHP:
   ```
   php -S localhost:8000
   ```
5. Откройте браузер и перейдите по адресу `http://localhost:8000`
6. Для авторизации перейдите по адресу `http://localhost:8000/backend/lk.php`
7. Для доступа к административной панели авторизуйтесь как администратор и перейдите по адресу `http://localhost:8000/backend/admin.php`
8. Для просмотра своих записей перейдите по адресу `http://localhost:8000/backend/my_appointments.php`

## Структура базы данных

Проект использует SQLite базу данных `backend/form_data.db` со следующей структурой:

**Таблица `users`**:
- `id` - уникальный идентификатор пользователя (PRIMARY KEY, AUTOINCREMENT)
- `username` - имя пользователя (логин)
- `password` - пароль пользователя (хранится в открытом виде)
- `is_admin` - флаг администратора (1 - администратор, 0 - обычный пользователь)
- `registration_date` - дата и время регистрации пользователя

**Таблица `applications`**:
- `id` - уникальный идентификатор заявки (PRIMARY KEY, AUTOINCREMENT)
- `name` - имя клиента
- `phone` - номер телефона клиента
- `age` - возрастная группа клиента
- `service` - выбранная услуга
- `master` - выбранный мастер
- `appointment_time` - выбранное время записи
- `design_feedback` - отзыв о дизайне сайта
- `comment` - комментарий клиента
- `user_id` - идентификатор пользователя, создавшего заявку (внешний ключ к таблице `users`)
- `submission_date` - дата и время подачи заявки
